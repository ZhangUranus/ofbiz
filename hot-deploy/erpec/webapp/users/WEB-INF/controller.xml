<?xml version="1.0" encoding="UTF-8" ?>

<site-conf xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://www.ofbiz.org/dtds/site-conf.xsd">

    <handler name="java" type="request" class="org.ofbiz.webapp.event.JavaEventHandler" />
    <handler name="screen" type="view" class="org.ofbiz.widget.screen.MacroScreenViewHandler" />
    <handler name="service" type="request" class="org.ofbiz.webapp.event.ServiceEventHandler" />

    <!-- Request Mapping -->

    <request-map uri="json">
        <security direct-request="false" />
        <event type="java" path="org.ofbiz.common.CommonEvents" invoke="jsonResponseFromRequestAttributes" />
        <response name="success" type="none" />
    </request-map>

    <!-- 用户-角色 -->
    <request-map uri="viewRoles">
        <response name="success" type="view" value="viewRoles" />
    </request-map>

    <request-map uri="ajaxRoleLst">
        <event type="service" path="" invoke="roleLst" />
        <response name="success" type="request" value="json" />
        <response name="error" type="request" value="json" />
    </request-map>

    <request-map uri="ajaxRoleAdd">
        <event type="service" path="" invoke="roleAdd" />
        <response name="success" type="request" value="json" />
        <response name="error" type="request" value="json" />
    </request-map>

    <request-map uri="ajaxRoleEdt">
        <event type="service" path="" invoke="roleEdt" />
        <response name="success" type="request" value="json" />
        <response name="error" type="request" value="json" />
    </request-map>
    <!-- //用户-角色 -->

    <!-- 用户-用户 -->
    <request-map uri="viewUsers">
        <response name="success" type="view" value="viewUsers" />
    </request-map>

    <request-map uri="ajaxUserLst">
        <event type="service" path="" invoke="userLst" />
        <response name="success" type="request" value="json" />
        <response name="error" type="request" value="json" />
    </request-map>

    <request-map uri="ajaxUserAdd">
        <event type="service" path="" invoke="userAdd" />
        <response name="success" type="request" value="json" />
        <response name="error" type="request" value="json" />
    </request-map>
    <!-- //用户-用户 -->

    <!-- End Request Mapping -->

    <!-- Request Mapping -->
    <view-map name="viewRoles" type="screen" page="component://erpec/widget/users/RoleScreens.xml#ViewRoles" />
    <view-map name="viewUsers" type="screen" page="component://erpec/widget/users/UserScreens.xml#ViewUsers" />

    <!-- End Request Mapping -->
</site-conf>
	
<?xml version="1.0" encoding="UTF-8" ?>

<site-conf xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://www.ofbiz.org/dtds/site-conf.xsd">

    <handler name="java" type="request" class="org.ofbiz.webapp.event.JavaEventHandler" />
    <handler name="screen" type="view" class="org.ofbiz.widget.screen.MacroScreenViewHandler" />
    <handler name="service" type="request" class="org.ofbiz.webapp.event.ServiceEventHandler" />

    <request-map uri="json">
        <security direct-request="false" />
        <event type="java" path="org.ofbiz.common.CommonEvents" invoke="jsonResponseFromRequestAttributes" />
        <response name="success" type="none" />
    </request-map>

    <!-- Request Mapping -->
    <request-map uri="roleMgmt">
        <response name="success" type="view" value="roleMgmt" />
    </request-map>

    <request-map uri="viewRoles">
        <response name="success" type="view" value="viewRoles" />
    </request-map>

    <request-map uri="createSecurityGroup">
        <event type="service" invoke="createSecurityGroup" />
        <response name="success" type="view" value="viewRoles" />
        <response name="error" type="view" value="viewRoles2" />
    </request-map>

    <request-map uri="updateSecurityGroup">
        <event type="service" invoke="updateSecurityGroup" />
        <response name="success" type="view" value="viewRoles" />
        <response name="error" type="view" value="viewRoles2" />
    </request-map>

    <request-map uri="ajaxRoleLst">
        <event type="service" path="" invoke="roleLst" />
        <response name="success" type="request" value="json" />
        <response name="error" type="request" value="json" />
    </request-map>
    
    <request-map uri="ajaxRoleAdd">
        <event type="service" path="" invoke="roleAdd" />
        <response name="success" type="request" value="json" />
        <response name="error" type="request" value="json" />
    </request-map>
    
    <request-map uri="ajaxRoleEdt">
        <event type="service" path="" invoke="roleEdt" />
        <response name="success" type="request" value="json" />
        <response name="error" type="request" value="json" />
    </request-map>

    <request-map uri="ajaxRoleList">
        <response name="success" type="view" value="ajaxRoleList" />
    </request-map>
    <!-- End Request Mapping -->


    <!-- Request Mapping -->
    <view-map name="roleMgmt" type="screen" page="component://erpec/widget/users/UsersScreens.xml#RoleMgmt" />
    <view-map name="viewRoles" type="screen" page="component://erpec/widget/users/UsersScreens.xml#viewRoles" />
    <view-map name="ajaxRoleList" type="screen" page="component://erpec/widget/users/UsersScreens.xml#AjaxRoleList" />
    <!-- End Request Mapping -->
</site-conf>
	